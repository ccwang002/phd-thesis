\documentclass{wustlthesis}

% Custom fonts
\setmainfont{SourceSerif4}[
    Path=./fonts/source-serif/,
    Ligatures=TeX,
    UprightFont=*-Regular, ItalicFont=*-It,
    BoldFont=*-Bold, BoldItalicFont=*-BoldIt
]
\setsansfont{SourceSans3}[
    Path=./fonts/source-sans/,
    Ligatures=TeX,
    UprightFont=*-Regular, ItalicFont=*-It,
    BoldFont=*-Bold, BoldItalicFont=*-BoldIt
]
\setmathfont{STIXTwoMath}[math-style=ISO]

% Enable refinements of typographics
\usepackage[
    activate=true,
    disable=false,  % enable microtype even in the draft mode
    babel=true,     % enable language-specific kerning.
    % skip patching footnote due to
    % incompability of microtype with memoir + hyperref
    % see https://github.com/schlcht/microtype/issues/2
    nopatch=footnote
]{microtype}
% Tweak Source Serif font like Times
% \DeclareMicrotypeAlias{SourceSerif4}{ptm}

% Re-calculate the lengths of a text line using the current font
\setlxvchars[\normalfont\normalsize]
\setxlvchars[\normalfont\normalsize]
\checkandfixthelayout[classic]

% Tweak LaTeX line breaking
\midsloppy

% Hyperlinks
\usepackage{hyperref}
\hypersetup{%
    pdfauthor={Liang-Bo Wang},
    pdfsubject={PhD Dissertation},
    colorlinks=true,
    linkcolor=black, urlcolor=[rgb]{0.0855,0.3675,0.5470}, citecolor=black%
}
% default URL style
\urlstyle{same}

% Tables
\usepackage{threeparttable}
\usepackage{makecell}  % allow multiple lines in a table cell

% Graphics
\usepackage{graphicx}

% Subcaptions
% The caption format is "Figure 1. Some caption. (A) subcaption. (B) subcaption".
% And the label reference format is "Figure 1A".
\usepackage{subcaption}
\renewcommand\thesubfigure{\Alph{subfigure}}
\renewcommand\thesubtable{\Alph{subtable}}
\captionsetup{subrefformat=parens}

% Bibliography
\usepackage[
    backend=biber,
    style=nature,
    date=year,
    isbn=false, url=false, doi=true,
    minnames=1, maxnames=9,
    backref=true,
    % block=space,   % allow additional horizontal space between blocks
]{biblatex}
% rename bibliography section name
\DefineBibliographyStrings{english}{
    bibliography = {References},
    backrefpage = {cited on p\adddot},
    backrefpages = {cited on pp\adddot}}
% hide PubMed ID (pmid:xxx) in the bibliography
\DeclareFieldFormat{eprint:pmid}{}

% define the bibliography path
\addbibresource{references.bib}

% Units
\usepackage{siunitx}

% Helper commands
\newcommand{\gene}[1]{\textit{#1}}

% Configure title page
\settitle{%
    Building toolbox and insights toward proteogenomic characterization of\\
    glioblastoma at bulk and single cell level%
}
\setauthor{Liang-Bo Wang}
\setthesistype{Dissertation}
\setthesisdegree{Doctor of Philosophy}
\setthesisdegreeabbrv{Ph.D.}
% Degree officially earn date must be in December, May, or August
\setdegreedatemy{December}{2021}
\setthesisadvisorwithtitle{Professor Li Ding, Chair}
\setthesiscommittee{%
    Li Ding, Chair\\
    Joshua B. Rubin\\
    Stephen T. Oh\\
    John Edwards\\
    Milan G. Chheda%
}
\setthesisschool{Division of Biology and Biomedical Sciences}
\setthesisdepartment{Computational Biology and Systems}


% Custom hypenation
\babelhyphenation{}


\begin{document}

\thetitlepage                       % Title page
\frontmatter
\thesiscopyright{%                  % Thesis copyright page
    \textcopyright~\degreeearnyear, Liang-Bo Wang}

% microtype triggers harmless overfull \vbox
% see https://tex.stackexchange.com/q/624171
\SingleSpacing*
\setSingleSpace{1.15}
\tableofcontents*                   % Table of contents (ToC)
\listoffigures                      % List of figures (LoF)
\listoftables                       % List of tables (LoT)

\DoubleSpacing
\include{acknowledgments}           % Acknowledgements
\thesisdedication{%                 % Dedication page
    Dedicated to my parents.}
\include{abstract}

\mainmatter
\pagestyle{main}
\include{chapters/01_introduction}
\include{chapters/02_mutation_pipeline_qc}
\include{chapters/03_ptmcosmos}
\include{chapters/04_cptac_gbm_discov}
\include{chapters/05_gbm_single_cell}
\include{chapters/06_conclusion}

\begin{SingleSpace}
% \nocite{*}
\printbibliography
\end{SingleSpace}

\appendix
\include{appendices/01_oss_pipeline_dev}

\end{document}
